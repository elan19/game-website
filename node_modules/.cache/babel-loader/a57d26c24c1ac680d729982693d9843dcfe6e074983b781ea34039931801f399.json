{"ast":null,"code":"import React, { useEffect, useState } from 'react';\nimport styles from '../../Views/Products/Products.module.css';\nimport SingleProduct from './single-product';\nconst ProductList = () => {\n  /*const [products, setProducts] = useState([]);\n  const [next, setNext] = useState(null);\n  const [prev, setPrev] = useState(null);\n  const [page, setPage] = useState(1);\n  const [searchQuery, setSearchQuery] = useState('');\n   const apiKey = process.env.REACT_APP_API_KEY;\"\"\n  const baseURL = process.env.REACT_APP_BASE_URL;\n   const fetchData = async (page, query = '') => {\n    const url = query\n      ? `${baseURL}/games?key=${apiKey}&search=${query}&page=${page}`\n      : `${baseURL}/games?key=${apiKey}&page=${page}`;\n    \n    const response = await fetch(url);\n    const result = await response.json();\n    console.log(result);\n     setProducts(result.results);\n    setNext(result.next);\n    setPrev(result.previous);\n  };\n   useEffect(() => {\n    fetchData(page, searchQuery);\n  }, [page, searchQuery]);\n   const handleSearch = (event) => {\n    event.preventDefault();\n    const searchInput = document.querySelector('input[type=\"text\"]').value;\n    setSearchQuery(searchInput);\n    console.log(searchInput);\n  };\n   const handlePrevPage = () => {\n    if (prev) {\n      const regex = /page=(\\d+)/;\n      const matchTest = prev.match(regex);\n      if (matchTest) {\n        const pageNumber = matchTest[1];\n        setPage(pageNumber);\n      }\n    }\n  };\n   const handleNextPage = () => {\n    if (next) {\n      const regex = /page=(\\d+)/;\n      const matchTest = next.match(regex);\n      if (matchTest) {\n        const pageNumber = matchTest[1];\n        setPage(pageNumber);\n      }\n    }\n  };\n   return (\n    <div>\n        <div className={styles.search}>\n            <form>\n                <input className={styles.searchBar} type=\"text\" name=\"search\" />\n                <input className={styles.searchBtn} onClick={handleSearch} type=\"submit\" value=\"Sök\" />\n            </form>\n        </div>\n        <h3 className={styles.gameListH3}>Utvalda och rekommenderas</h3>\n        <div>\n            {products.map((product) => (\n            <SingleProduct key={product.id} product={product} />\n            ))}\n        </div>\n        <button className={styles.prevPage} onClick={handlePrevPage}>\n            &lt;\n        </button>\n        <button className={styles.nextPage} onClick={handleNextPage}>\n            &gt;\n        </button>\n    </div>\n  );*/\n};\n_c = ProductList;\nexport default ProductList;\nvar _c;\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"names":["React","useEffect","useState","styles","SingleProduct","ProductList","_c","$RefreshReg$"],"sources":["/home/elias/self-projects/game-platform-website/src/Components/Products/product-list.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport styles from '../../Views/Products/Products.module.css';\n\nimport SingleProduct from './single-product';\n\nconst ProductList = () => {\n  /*const [products, setProducts] = useState([]);\n  const [next, setNext] = useState(null);\n  const [prev, setPrev] = useState(null);\n  const [page, setPage] = useState(1);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const apiKey = process.env.REACT_APP_API_KEY;\"\"\n  const baseURL = process.env.REACT_APP_BASE_URL;\n\n  const fetchData = async (page, query = '') => {\n    const url = query\n      ? `${baseURL}/games?key=${apiKey}&search=${query}&page=${page}`\n      : `${baseURL}/games?key=${apiKey}&page=${page}`;\n    \n    const response = await fetch(url);\n    const result = await response.json();\n    console.log(result);\n\n    setProducts(result.results);\n    setNext(result.next);\n    setPrev(result.previous);\n  };\n\n  useEffect(() => {\n    fetchData(page, searchQuery);\n  }, [page, searchQuery]);\n\n  const handleSearch = (event) => {\n    event.preventDefault();\n    const searchInput = document.querySelector('input[type=\"text\"]').value;\n    setSearchQuery(searchInput);\n    console.log(searchInput);\n  };\n\n  const handlePrevPage = () => {\n    if (prev) {\n      const regex = /page=(\\d+)/;\n      const matchTest = prev.match(regex);\n      if (matchTest) {\n        const pageNumber = matchTest[1];\n        setPage(pageNumber);\n      }\n    }\n  };\n\n  const handleNextPage = () => {\n    if (next) {\n      const regex = /page=(\\d+)/;\n      const matchTest = next.match(regex);\n      if (matchTest) {\n        const pageNumber = matchTest[1];\n        setPage(pageNumber);\n      }\n    }\n  };\n\n  return (\n    <div>\n        <div className={styles.search}>\n            <form>\n                <input className={styles.searchBar} type=\"text\" name=\"search\" />\n                <input className={styles.searchBtn} onClick={handleSearch} type=\"submit\" value=\"Sök\" />\n            </form>\n        </div>\n        <h3 className={styles.gameListH3}>Utvalda och rekommenderas</h3>\n        <div>\n            {products.map((product) => (\n            <SingleProduct key={product.id} product={product} />\n            ))}\n        </div>\n        <button className={styles.prevPage} onClick={handlePrevPage}>\n            &lt;\n        </button>\n        <button className={styles.nextPage} onClick={handleNextPage}>\n            &gt;\n        </button>\n    </div>\n  );*/\n};\n\nexport default ProductList;\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAElD,OAAOC,MAAM,MAAM,0CAA0C;AAE7D,OAAOC,aAAa,MAAM,kBAAkB;AAE5C,MAAMC,WAAW,GAAGA,CAAA,KAAM;EACxB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArEE,CA8ED;AAACC,EAAA,GA/EID,WAAW;AAiFjB,eAAeA,WAAW;AAAC,IAAAC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}